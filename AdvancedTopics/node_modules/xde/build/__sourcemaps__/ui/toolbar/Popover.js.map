{"version":3,"sources":["ui/toolbar/Popover.js"],"names":[],"mappings":"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","file":"ui/toolbar/Popover.js","sourcesContent":["import React, {PropTypes} from 'react';\nimport {Motion, spring} from 'react-motion';\n\nimport SharedStyles from '../Styles';\nimport StyleConstants from '../StyleConstants';\n\nexport default class Popover extends React.Component {\n  static propTypes = {\n    children: PropTypes.node, // Target over which the popover is shown.\n\n    // Popover contents. If not specified, only the children are shown.\n    body: PropTypes.node,\n\n    isToLeft: PropTypes.bool,\n    isAbove: PropTypes.bool,\n    arrowOffset: PropTypes.number,\n    popoverOffset: PropTypes.number,\n  };\n\n  static defaultProps = {\n    arrowOffset: 0,\n    popoverOffset: 0,\n  };\n\n  _renderPopoverContents() {\n    let popoverStyle = this.props.isAbove ? Styles.popoverAbove : Styles.popoverBelow;\n    let arrowStyle = this.props.isAbove ? Styles.arrowAbove : Styles.arrowBelow;\n    let arrowFillStyle = this.props.isAbove ? Styles.arrowFillAbove : Styles.arrowFillBelow;\n    let contentStyle = this.props.isAbove ? Styles.contentAbove : Styles.contentBelow;\n\n    if (this.props.isToLeft) {\n      popoverStyle.right = this.props.popoverOffset;\n      arrowStyle.right = this.props.arrowOffset;\n      arrowFillStyle.right = this.props.arrowOffset + 1;\n      popoverStyle.left = null;\n      arrowStyle.left = null;\n      arrowFillStyle.left = null;\n    } else {\n      popoverStyle.left = this.props.popoverOffset;\n      arrowStyle.left = this.props.arrowOffset;\n      arrowFillStyle.left = this.props.arrowOffset + 1;\n      popoverStyle.right = null;\n      arrowStyle.right = null;\n      arrowFillStyle.right = null;\n    }\n\n    return (\n      <Motion defaultStyle={{x: 0}} style={{x: spring(1)}}>\n        {(value) => (\n          <div>\n            {this.props.isAbove ? (\n              <div style={{...popoverStyle, opacity: value.x}}>\n                <div style={contentStyle}>\n                  {this.props.body}\n                </div>\n                <div style={arrowFillStyle}></div>\n                <div style={arrowStyle}></div>\n              </div>\n            ) : (\n              <div style={{...popoverStyle, opacity: value.x}}>\n                <div style={arrowStyle}></div>\n                <div style={arrowFillStyle}></div>\n                <div style={contentStyle}>\n                  {this.props.body}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </Motion>\n    );\n  }\n\n  render() {\n    return (\n      <div style={Styles.container}>\n        {this.props.children}\n        {this.props.body && this._renderPopoverContents()}\n      </div>\n    );\n  }\n}\n\nconst ARROW_SIZE = 12;\n\nconst Styles = {\n  container: {\n    display: 'inline-block',\n    position: 'relative',\n  },\n\n  popoverBelow: {\n    position: 'absolute',\n    top: '100%',\n    zIndex: StyleConstants.zIndexPopover,\n  },\n  arrowBelow: {\n    backgroundColor: 'white',\n    borderColor: StyleConstants.colorBorder,\n    borderStyle: 'solid',\n    borderWidth: 1,\n    transform: 'rotate(45deg)',\n    width: ARROW_SIZE,\n    height: ARROW_SIZE,\n\n    position: 'absolute',\n    top: 1,\n    zIndex: 1,\n  },\n  contentBelow: {\n    position: 'relative',\n    top: ARROW_SIZE / 2, // To make room for the arrow\n    zIndex: 2, // Higher than the arrow\n\n    paddingTop: ARROW_SIZE / 2 + 1,\n    paddingBottom: ARROW_SIZE / 2 + 1,\n    ...SharedStyles.hoverBox,\n  },\n  arrowFillBelow: {\n    backgroundColor: 'white',\n    border: 'none',\n    transform: 'rotate(45deg)',\n    width: 10,\n    height: 10,\n\n    position: 'absolute',\n    top: 2,\n    zIndex: 3, // Higher than content\n  },\n\n  popoverAbove: {\n    position: 'absolute',\n    bottom: '100%',\n    zIndex: StyleConstants.zIndexPopover,\n  },\n  arrowAbove: {\n    backgroundColor: 'white',\n    borderColor: StyleConstants.colorBorder,\n    borderStyle: 'solid',\n    borderWidth: 1,\n    transform: 'rotate(225deg)',\n    width: ARROW_SIZE,\n    height: ARROW_SIZE,\n\n    position: 'absolute',\n    bottom: 1,\n    zIndex: 1,\n  },\n  contentAbove: {\n    position: 'relative',\n    bottom: ARROW_SIZE / 2, // To make room for the arrow\n    zIndex: 2, // Higher than the arrow\n\n    paddingTop: ARROW_SIZE / 2 + 1,\n    paddingBottom: ARROW_SIZE / 2 + 1,\n    ...SharedStyles.hoverBox,\n  },\n  arrowFillAbove: {\n    backgroundColor: 'white',\n    border: 'none',\n    transform: 'rotate(225deg)',\n    width: 10,\n    height: 10,\n\n    position: 'absolute',\n    bottom: 2,\n    zIndex: 3, // Higher than content\n  },\n};\n"],"sourceRoot":"/source/"}