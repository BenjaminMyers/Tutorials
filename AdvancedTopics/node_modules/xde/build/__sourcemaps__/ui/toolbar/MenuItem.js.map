{"version":3,"sources":["ui/toolbar/MenuItem.js"],"names":[],"mappings":"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","file":"ui/toolbar/MenuItem.js","sourcesContent":["import React, {PropTypes} from 'react';\n\nimport StyleConstants from '../StyleConstants';\n\nexport default class MenuItem extends React.Component {\n  static propTypes = {\n    checkState: PropTypes.oneOf(['uncheckable', 'unchecked', 'checked']),\n\n    isDisabled: PropTypes.bool,\n    label: PropTypes.string.isRequired,\n    onClick: PropTypes.func,\n    shortcut: PropTypes.string,\n\n    // If specified, this becomes a flyout menu.\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    checkState: 'uncheckable',\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.state = {isHovered: false};\n  }\n\n  _onMouseEnter = () => {\n    this.setState({isHovered: true});\n  };\n\n  _onMouseLeave = () => {\n    this.setState({isHovered: false});\n  };\n\n  _onClick = (event) => {\n    if (this.props.isDisabled) {\n      event.stopPropagation();\n    } else if (this.props.onClick) {\n      this.props.onClick(event);\n    }\n  };\n\n  _renderFlyout() {\n    return (\n      <div style={{\n        position: 'absolute',\n        top: 0,\n\n        // TODO: When we need flyouts to the left, make this customizable.\n        left: 0,\n        marginLeft: '100%',\n      }}>\n        {this.props.children}\n      </div>\n    );\n  }\n\n  _renderCheck() {\n    // If unchecked, hold a space for the checkmark by rendering an invisible one.\n    let style = this.props.checkState === 'checked' ? {} : {opacity: 0};\n    return <span style={style}>&#x2713;&nbsp;</span>;\n  }\n\n  render() {\n    const isFlyoutMenu = !!this.props.children;\n    const menuItemStyle = {\n      ...Styles.menuItem,\n      ...(this.state.isHovered && !this.props.isDisabled ? Styles.menuItemHovered : {}),\n      ...(this.props.isDisabled ? Styles.menuItemDisabled : {}),\n    };\n    return (\n      <div style={menuItemStyle}\n        onClick={this._onClick}\n        onMouseEnter={this._onMouseEnter}\n        onMouseLeave={this._onMouseLeave}>\n        {this.props.checkState !== 'uncheckable' && this._renderCheck()}\n        <div style={Styles.label}>{this.props.label}</div>\n        {this.props.shortcut && (\n          <div style={Styles.shortcut}>{this._metaKey()}{this.props.shortcut}</div>\n        )}\n        {isFlyoutMenu && <span>&#x25BA;</span>}\n        {isFlyoutMenu && this.state.isHovered && this._renderFlyout()}\n      </div>\n    );\n  }\n\n  _metaKey() {\n    if (process.platform === 'darwin') {\n      return 'âŒ˜';\n    } else {\n      return 'Ctrl+';\n    }\n  }\n}\n\nconst Styles = {\n  menuItem: {\n    color: StyleConstants.colorText,\n    cursor: 'pointer',\n    fontSize: StyleConstants.fontSizeMd,\n    paddingTop: StyleConstants.gutterSm,\n    paddingRight: StyleConstants.gutterMd,\n    paddingBottom: StyleConstants.gutterSm,\n    paddingLeft: StyleConstants.gutterMd,\n    position: 'relative',\n    textAlign: 'left',\n\n    display: 'flex',\n    alignItems: 'center',\n  },\n  menuItemHovered: {\n    backgroundColor: StyleConstants.colorPrimary,\n    color: 'white',\n  },\n  menuItemDisabled: {\n    color: StyleConstants.colorSubtitle,\n    cursor: 'default',\n  },\n  label: {\n    flex: 1,\n  },\n  shortcut: {\n    color: StyleConstants.colorSubtitle,\n    flex: 'none',\n  },\n};\n"],"sourceRoot":"/source/"}