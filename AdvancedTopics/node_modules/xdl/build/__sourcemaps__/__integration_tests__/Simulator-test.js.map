{"version":3,"sources":["__integration_tests__/Simulator-test.js"],"names":["jest","disableAutomock","useRealTimers","jasmine","DEFAULT_TIMEOUT_INTERVAL","describe","it","Simulator","_isSimulatorInstalledAsync","Error","_isSimulatorRunningAsync","_quitSimulatorAsync","_openSimulatorAsync","_isExponentAppInstalledOnCurrentBootedSimulatorAsync","_uninstallExponentAppFromSimulatorAsync","_installExponentOnSimulatorAsync","_openUrlInSimulatorAsync"],"mappings":"AAAA;;;;;;;;;;AAMA;;;;AAEA;;;;;;AANAA,KAAKC,eAAL;AACAD,KAAKE,aAAL;AACAC,QAAQC,wBAAR,GAAmC,KAAnC;;AAMAC,SAAS,WAAT,EAAsB,YAAM;AAC1BC,KAAG,iCAAH,6DAAsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAChCC,qBADgC,GACpB,cAAIA,SADgB;AAAA;AAAA,mBAEzBA,UAAUC,0BAAV,EAFyB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,kBAG5B,IAAIC,KAAJ,CAAU,kEAAV,CAH4B;;AAAA;AAAA;AAAA,mBAO1BF,UAAUG,wBAAV,EAP0B;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAQ5BH,UAAUI,mBAAV,EAR4B;;AAAA;AAAA;AAAA,mBAW9B,0BAAW,IAAX,CAX8B;;AAAA;AAAA;AAAA,mBAc9BJ,UAAUK,mBAAV,EAd8B;;AAAA;AAAA;AAAA,mBAgB9B,0BAAW,IAAX,CAhB8B;;AAAA;AAAA;AAAA,mBAkBzBL,UAAUG,wBAAV,EAlByB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,kBAmB5B,IAAID,KAAJ,CAAU,oFAAV,CAnB4B;;AAAA;AAAA;AAAA,mBAsB1BF,UAAUM,oDAAV,EAtB0B;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAuB5BN,UAAUO,uCAAV,EAvB4B;;AAAA;AAAA;AAAA,mBAyB1BP,UAAUM,oDAAV,EAzB0B;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,kBA0B5B,IAAIJ,KAAJ,CAAU,iEAAV,CA1B4B;;AAAA;AAAA;AAAA,mBA4B9BF,UAAUQ,gCAAV,EA5B8B;;AAAA;AAAA;AAAA,mBA6BzBR,UAAUM,oDAAV,EA7ByB;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,kBA8B5B,IAAIJ,KAAJ,CAAU,iEAAV,CA9B4B;;AAAA;AAAA;AAAA,mBAiC9BF,UAAUS,wBAAV,CAAmC,qCAAnC,CAjC8B;;AAAA;AAAA;AAAA,mBAmC9B,0BAAW,IAAX,CAnC8B;;AAAA;AAAA;AAAA,mBAqC9BT,UAAUO,uCAAV,EArC8B;;AAAA;AAAA;AAAA,mBAsC1BP,UAAUM,oDAAV,EAtC0B;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,kBAuC5B,IAAIJ,KAAJ,CAAU,qEAAV,CAvC4B;;AAAA;AAAA;AAAA,mBA0C9BF,UAAUI,mBAAV,EA1C8B;;AAAA;AAAA;AAAA,mBA2C1BJ,UAAUG,wBAAV,EA3C0B;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,kBA4C5B,IAAID,KAAJ,CAAU,0CAAV,CA5C4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtC;AA+CD,CAhDD","file":"../../__integration_tests__/Simulator-test.js","sourcesContent":["'use strict';\n\njest.disableAutomock();\njest.useRealTimers();\njasmine.DEFAULT_TIMEOUT_INTERVAL = 40000;\n\nimport delayAsync from 'delay-async';\n\nimport xdl from '../xdl';\n\ndescribe('simulator', () => {\n  it('opens and loads url in exponent', async () => {\n    let Simulator = xdl.Simulator;\n    if (!await Simulator._isSimulatorInstalledAsync()) {\n      throw new Error(\"Simulator isn't installed on this computer; can't run this test.\");\n    }\n\n    // Quit the simulator to start the test\n    if (await Simulator._isSimulatorRunningAsync()) {\n      await Simulator._quitSimulatorAsync();\n    }\n\n    await delayAsync(1000); // 3 seconds\n\n    // Open the simulator\n    await Simulator._openSimulatorAsync();\n\n    await delayAsync(9000); // 3 seconds\n\n    if (!await Simulator._isSimulatorRunningAsync()) {\n      throw new Error(\"Simulator should be running after being opened, but we're detecting that it isn't.\");\n    }\n\n    if (await Simulator._isExponentAppInstalledOnCurrentBootedSimulatorAsync()) {\n      await Simulator._uninstallExponentAppFromSimulatorAsync();\n    }\n    if (await Simulator._isExponentAppInstalledOnCurrentBootedSimulatorAsync()) {\n      throw new Error(\"Exponent app shouldn't be installed on this simulator but it is\");\n    }\n    await Simulator._installExponentOnSimulatorAsync();\n    if (!await Simulator._isExponentAppInstalledOnCurrentBootedSimulatorAsync()) {\n      throw new Error(\"Exponent app should be installed on this simulator but it isn't\");\n    }\n\n    await Simulator._openUrlInSimulatorAsync('exp://exp.host/@exponent/fluxpybird');\n\n    await delayAsync(6000);\n\n    await Simulator._uninstallExponentAppFromSimulatorAsync();\n    if (await Simulator._isExponentAppInstalledOnCurrentBootedSimulatorAsync()) {\n      throw new Error(\"Exponent app shouldn't be installed on this simulator but it is (2)\");\n    }\n\n    await Simulator._quitSimulatorAsync();\n    if (await Simulator._isSimulatorRunningAsync()) {\n      throw new Error(\"Simulator shouldn't be running but it is\");\n    }\n  });\n});\n"],"sourceRoot":"/Users/Jesse/Exponent/newuniverse/universe/dev/xdl/gulp/src"}