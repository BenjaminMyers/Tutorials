{"version":3,"sources":["UserSettings.js"],"names":["Env","SETTINGS_FILE_NAME","userSettingsFile","join","dotExponentHomeDirectory","userSettingsJsonFile","cantReadFileDefault","recentExpsJsonFile","mkdirped","home","Error","dirPath","sync","UserSettings"],"mappings":";;;;;;;;;;AAIA;;AAEA;;IAAYA,G;;AAEZ;;;;AAEA;;;;AACA;;;;;;;;AAEA,IAAMC,qBAAqB,eAA3B;;AAEA,SAASC,gBAAT,GAA4B;AAC1B,SAAO,eAAKC,IAAL,CAAUC,0BAAV,EAAsCH,kBAAtC,CAAP;AACD;;AAED,SAASI,oBAAT,GAAgC;AAC9B,SAAO,uBAAaH,kBAAb,EAAiC,EAACI,qBAAoB,EAArB,EAAjC,CAAP;AACD;;AAED,SAASC,kBAAT,GAA8B;AAC5B,SAAO,uBAAa,eAAKJ,IAAL,CAAUC,0BAAV,EAAsC,sBAAtC,CAAb,CAAP;AACD;;AAED,IAAII,WAAW,KAAf;AACA,SAASJ,wBAAT,GAAoC;AAClC,MAAMK,OAAOT,IAAIS,IAAJ,EAAb;AACA,MAAI,CAACA,IAAL,EAAW;AACT,UAAM,IAAIC,KAAJ,CAAU,wFAAV,CAAN;AACD;AACD,MAAIC,UAAU,eAAKR,IAAL,CAAUM,IAAV,EAAgB,WAAhB,CAAd;AACA,MAAI,CAACD,QAAL,EAAe;AACb,qBAAOI,IAAP,CAAYD,OAAZ;AACAH,eAAW,IAAX;AACD;AACD,SAAOG,OAAP;AACD;;AAED,IAAME,eAAeR,sBAArB;;AAEA,sBAAcQ,YAAd,EAA4B;AAC1BT,oDAD0B;AAE1BG,wCAF0B;AAG1BL,oCAH0B;AAI1BG,4CAJ0B;AAK1BJ;AAL0B,CAA5B;;kBAQeY,Y","file":"../UserSettings.js","sourcesContent":["/**\n * @flow\n */\n\nimport 'instapromise';\n\nimport * as Env from './Env';\n\nimport JsonFile from '@exponent/json-file';\n\nimport mkdirp from 'mkdirp';\nimport path from 'path';\n\nconst SETTINGS_FILE_NAME = 'exponent.json';\n\nfunction userSettingsFile() {\n  return path.join(dotExponentHomeDirectory(), SETTINGS_FILE_NAME);\n}\n\nfunction userSettingsJsonFile() {\n  return new JsonFile(userSettingsFile(), {cantReadFileDefault:{}});\n}\n\nfunction recentExpsJsonFile() {\n  return new JsonFile(path.join(dotExponentHomeDirectory(), 'xde-recent-exps.json'));\n}\n\nvar mkdirped = false;\nfunction dotExponentHomeDirectory() {\n  const home = Env.home();\n  if (!home) {\n    throw new Error(\"Can't determine your home directory; make sure your $HOME environment variable is set.\");\n  }\n  var dirPath = path.join(home, '.exponent');\n  if (!mkdirped) {\n    mkdirp.sync(dirPath);\n    mkdirped = true;\n  }\n  return dirPath;\n}\n\nconst UserSettings = userSettingsJsonFile();\n\nObject.assign(UserSettings, {\n  dotExponentHomeDirectory,\n  recentExpsJsonFile,\n  userSettingsFile,\n  userSettingsJsonFile,\n  SETTINGS_FILE_NAME,\n});\n\nexport default UserSettings;\n"],"sourceRoot":"/Users/Jesse/Exponent/newuniverse/universe/dev/xdl/gulp/src"}